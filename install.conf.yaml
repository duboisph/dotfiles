---
- defaults:
    link:
      create: true
      relink: true

- clean: ['~', ~/.config/nvim, ~/.gnupg]

- link:
    ~/.bash_completion.d: .bash_completion.d
    ~/.bash_profile: .bash_profile
    ~/.bash_profile.d: .bash_profile.d
    ~/.bashrc: .bashrc
    ~/.config/nvim/init.vim: .config/nvim/init.vim
    ~/.gemrc: .gemrc
    ~/.gitconfig: .gitconfig
    ~/.gitconfig.local: .gitconfig.local
    ~/.gitignore: .gitignore
    ~/.gnupg/gpg-agent.conf: .gnupg/gpg-agent.conf
    ~/.hushlogin: .hushlogin
    ~/.inputrc: .inputrc
    ~/.tmux.conf: .tmux.conf
    ~/.terraformrc: .terraformrc

- shell:
    - ['sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"', Adding Docker CE repository...]
    - ['curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -', Adding Docker's GPG key...]
    - ['sudo apt update', Updating APT sources...]
    - ['xargs sudo apt -y install < aptpackages', Installing APT packages...]
    - ['pip install --user -r requirements.txt', Installing Python packages...]
    - ['bundle install --path $HOME/.gem', Installing Ruby gems...]
    - ['git lfs install', Installing git-lfs...]
